{
  "hash": "4d8e2ebf04ff7706165c54a827f7f77b",
  "result": {
    "markdown": "---\ntitle: A Pigeon Becomes a Barplot\nauthor: RWW\ndate: '2022-04-22'\nslug: []\ncategories:\n  - ggplot\n  - R\ntags:\n  - plot\n---\n\n\n\n\n## A Pigeon\n\nIt really is an amazing pigeon.  Apologies that I haven't a photo credit for it; I found it one day on twitter as it went viral.  It is a New York City pigeon.\n\n![Pigeon](img/Pigeon.png)\n\nI want to color something with colors from that pigeon.  It has an amazing array of colors.  \n\n**TLDR: Extract colors from pigeon photo to palette.  Then use palette in ggplot.**\n\n## The Palette\n\nFirst, I have to get the color palette.\n\nR has a package called `imgpalr` that will extract colors from an image.  If I need to, it is `install.packages(\"imgpalr\")`.\n\nIn the following code chunk, I will load the package and then I want to point it to the pigeon image that I downloaded.  In my case, it is in the same directory as the R Markdown file and is called `Pigeon.png`.\n\nInside the command `image_pal()`, I point it to an image, I specify how many colors [5], what type of color scheme, I want qualitative, and then some characteristics of the colors.  The plot will show me the image alongside the palette though it is upside down.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(imgpalr)\nPigeon.colors <- image_pal(\"~/Downloads/Pigeon.png\", # This will need to be adjusted to the actual file location on your computer.  Mine is in my downloads.\n          n = 5, # How many colors?\n          type = \"qual\", # Type of palette?\n          saturation = c(0.75, 1), \n          brightness = c(0.75, 1), \n          plot = TRUE, # Show the image and the palette?\n          bw = c(0.7, 0.95)\n          )\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n\n```{.r .cell-code}\nPigeon.colors\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"#A3A1E6\" \"#D5A0F0\" \"#E0C699\" \"#F495E3\" \"#97BCE2\"\n```\n:::\n:::\n\n\nNow I have a palette in the markdown environment called Pigeon.colors.  Now I need some data; I want five categories to match my palette.  The rest is junk.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nJunk.data <- data.frame(Stuff=c(\"Hi\",\"Howdy\",\"Hello\",\"Hola\",\"Hallo\"), vals = runif(5, 0, 1))\nJunk.data\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  Stuff       vals\n1    Hi 0.80980408\n2 Howdy 0.02055467\n3 Hello 0.11078097\n4  Hola 0.56221227\n5 Hallo 0.79464218\n```\n:::\n:::\n\n\nI want to graph it using a barplot equivalent because I have the height of the bars in `vals`.  Let me use the fill aesthetic to fill the bars in by the five discrete things stored as `Stuff`.  The trick to using it is to manually specify the colors and point it to the `Pigeon.colors` above.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nggplot(Junk.data) + \n  aes(x=Stuff, y=vals, fill=Stuff) + \n  geom_col() + \n  scale_fill_manual(values = Pigeon.colors)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}